- 问题
	- 测试优化器的核心是在计划空间中均匀采样
- 核心
	- Ranking
		- ranking：将一个计划映射到一个整数
		- unranking：从整数构建一个计划
	- Memo 中已经包含所有的logical plan
		- 如果我们保存所有的physical plan，就可以得到了完整的搜索空间（也许可以基于概率，或者基于cost分布保存）
		- 我们可以建立一个映射来映射计划
- 算法
	- Counting：计算所有的空间
		- 对于一个group，其所有可能的组合为其子所有expr的计划数之和
		- 对于一个expr，其所有可能的组合为其所有child group计划数之乘
	- Ranking
		- 假设总的计划数为$N(v)$
		- Ranking
			- 将计划按照顺序编号$0...N(v)$
		- Unranking
			- 对于一个编号r，计算流程如下
				- 从根节点开始，遍历每一个expr，计算local rank
				  $$r_l = r -\sum_{i} Count(expr_i)$$
				- 对选定的expr的孩子，我们计算第i个孩子的rank为$r_i$
				  使得$\sum $
			-
		-