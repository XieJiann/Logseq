title:: Plan Space Analysis: An Early Warning System to Detect Plan Regressions in Cost-based Optimizers

- 问题
	- 如何衡量优化器修改的衡量，Plan regression
		- 一个修改可以有利于一些计划而不利于另一些计划
	- 传统工作只考虑BPF：即会不会影响最优的计划
	- 本文考虑了整个搜索空间
- 标准范式
	- 标准流程（mtr）
		- 定义测试的query 集合，并保存它们的优化计划
		- 当修改优化器时，查看计划是否改变
			- 如果改变，需要开发者进行讨论是否需要修改测试文件
	- 问题
		- 只是定义计划级别的测试，约束比较小（哪怕有很多计划）
			- 一些修改隐藏的改动没有被体现出来
		- 大量的计划导致需要很多人工干预（mtr测试经常爆出几百个测试错误需要修改）
- 新的测试框架
	- 通过计划时间和执行时间的相关性判断一个优化器是否更好
	- 如何均匀采样计划
		- 手动调整配置
	- 如何计算参数
		- xxx
	- 实现中的问题
		- 坏计划可能执行时间很长，需要删除
		- 计划需要执行多次避免系统波动的影响
		- 去除重复的plan
	-
	-
	-