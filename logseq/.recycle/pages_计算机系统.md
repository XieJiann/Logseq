- 一些概述
    - 并发/并行
        - 并发：逻辑上同时发生，短暂时间不同切换使得看起来像是同时发生
        - 并行：同时发生进行
    - 系统调用
        - 一个进程在用户态需要使用内核态的功能
        - 进行系统调用：陷入内核态，由操作系统代为完成
    - 中断分类
        - 外中断：由CPU执行指令以外的引起
            - I/O完成中断
            - 时钟中断等
        - 异常：CPU执行指令内部事件引起
            - 非法操作符
            - 地址越界
            - 算法溢出
        - 陷入
            - 用户程序使用系统调用
- 进程管理
    - 进程线程
        - 定义
            - 进程：是对运行程序的抽象，是系统进行资源分配的独立单位。（拥有自己独立的空间）
            - 线程：比进程更小的独立运行的单位，一个进程拥有多个线程，没有自己空间
            - 区别
                - 资源：进程拥有资源，线程没有，其访问进程资源
                - 调度：线程是进程基本单位，线程的切换不会引起进程切换
                - 系统开销：进程在创建/撤销时需要分配资源/回收资源，开销大；线程开销小
        - 进程状态 ![image.jpg](../assets/2078c726-29db-4730-bf4a-ffbb7feb040e-1115003.jpg)
        - 进程通信
            - 管道
                - 无名管道：半双工/单向流动
                - 命名管道：允许无亲缘关系进程通信（即可以通过名字打开）
            - 消息队列
            - 共享内存
            - socket套接字
        - 进程同步
            - 一些概念
                - 临界区：对临界资源进行访问的代码
                - 同步：多个进程因为合作关系，按次序执行
            - 互斥量（即只有一个共享资源）
            - 信号量（有有限个共享资源/不止一个）
            - 信号
            - 常见问题（操作系统书待写）
                - 生产者/消费者
                - 读者/写者
                - 哲学家进餐
        - 死锁
            - 死锁条件
                - 互斥
                - 保持和请求
                - 不可抢占
                - 循环等待
            - 防止死锁
                - 银行家算法：先把资源给请求的进程，看是否会造成死锁。会的话就不给，反之则给。
    - 调度
        - 时间
            - 响应时间：输入到响应的时间
            - 周转时间：响应开始到结束的时间
        - 调度算法
            - 批处理系统：
                - FIFO：先到先得，不抢占；不利于短作业，等待时间过长
                - 短作业有限：最短作业先调度；不利于长作业
            - 多用户
                - 优先权：优先级高的先调度；低优先级可能得不到调度，随时间提升优先级
                - 时间片轮转：按时间片轮转调度；
                    - 时间片的设置很重要：短：切换频繁；长：实时性不能保证
                - 多级队列调度：设置多个优先级队列，队列中采取时间等调度方法 ![image.jpg](../assets/5be20812-9212-4713-9563-7e583c5aa4f5-1115003.jpg)
        - 上下文切换
            - 系统先保存当前进程的数据、寄存器和指针等状态
            - 切换到另一个进程
- 内存管理
    - 内存管理
        - 物理地址：实际物理内存中的地址
        - 虚拟地址：编程时将数据分成若干个端，段名+段内相对地址是虚拟地址
        - 逻辑地址：虚拟地址部分，段内地址叫逻辑地址
    - 分页分段（虚拟内存的管理）
        - 分页：将代码数据分成若干个固定大小的页
            - 若是页不存在，页有置换算法
                - 最佳：置换出的页面是最长时间不再被访问的
                - 先入先出：淘汰最后进入的
                - LRU：淘汰最少使用的页
        - 分段：将代码数据按照逻辑分成若干个段（数据段、堆、栈等）
        - 段页和区别
            - 地址空间的维度：分页是一维地址空间，分段是二维的。
            - 大小是否可以改变：段是信息的逻辑单位，根据完成的功能确定，大小不固定；页是信息物理单位，按照系统需求划分，大小固定
- 文件管理
- 设备管理
    - 磁盘调度算法
        - 先来先服务：按照磁盘请求的顺序进行调度。
        - 最短寻道时间优先：优先调度与当前磁头所在磁道距离最近的磁道；粘着现象：反复在某一磁道附件
        - 电梯算法：总是按一个方向来进行磁盘调度，直到该方向上没有未完成的磁盘请求，然后改变方向。
- 编译
    - 编译流程 ![image.jpg](../assets/782f253d-d709-4008-b908-63f8b714b96a-1115003.jpg)
        - 预处理阶段：处理以 # 开头的预处理命令；
        - 编译阶段：翻译成汇编文件；
        - 汇编阶段：将汇编文件翻译成可重定位目标文件；
        - 链接阶段：将可重定位目标文件和 printf.o 等单独预编译好的目标文件进行合并，得到最终的可执行目标文件。
    - 静态链接：程序编译时，把库文件加入程序中，然后装入运行空间 ![image.jpg](../assets/29007ac3-1a92-452f-b956-70557432fade-1115003.jpg)
        - 符号解析：将符号定义和引用关联
        - 重定位：将符号定义于内存位置关联。然后修改符号引用使其指向对应内存位置
    - 链接
        - 动态链接：在程序运行时，载入。可以随时加载和移除（.so/.dll） ![image.jpg](../assets/2f4d2a54-4af0-48f1-ad5a-e5b99dc2ec8d-1115003.jpg)
