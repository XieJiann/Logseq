- 基础知识
    - 数据模型
        - 概念数据模型
            - E-R图 ![image.jpg](../assets/2396c14a-f2cd-4301-bf1d-daa37820a0b1-1115003.jpg)
                - 矩形：实体
                - 椭圆形：属性
                - 菱形：关系
        - 逻辑数据模型
            - 层次：树
            - 网络：图
            - 面对对象
                - 对象：实体的模型化
                - 类：对象类型和方法
        - 数据库的三级模型：外模式 - 模式 - 内模式
        - 模式映射
            - 外模式/模式映像：
            - 模式/内模式映像：
    - 关系型数据库
        - 概述 ![image.jpg](../assets/b0548e42-e6b1-455c-b2ef-30d3d6c921ef-1115003.jpg)
        - 形式化定义（笛卡尔积）
            - 设D1，D2，…，Dn为任意集合
            - 定义笛卡尔积D1，D2，…，Dn为：
                - D1 × D2 × … × Dn ＝{( d1，d2，…，dn ) | di ∈Di，i＝1，2，…，n }
            - 其中每一个元素（d1，d2，…，dn）称为一个n元组，简称元组
            - 元组中每一个di称为是一个分量。
        - 关系模式
            - 关系：一张二维表格，一行为一元组，一列为一属性
            - 关系模式：关系的描述： R(U, D, dom, F)
                -  R：关系名
                - U：组成该关系的属性集合
                - D：属性来自的域
                - dom：属性向域的映象集合
                - F：属性间数据依赖关系集合
            - 关系模式和关系
                - 关系模式是静态的
                - 关系是动态的
                - 关系是关系模式的一个实例
        - 健
            - 超键：在关系中能唯一标识元组的属性集称为关系模式的超键
            - 候选键： 不含有多余属性的超键称为候选键。也就是在候选键中，若再删除属性，就不是键了！
            - 主键：主键是数据表的唯一索引
                - 当一个关系中有多个候选键时，从中选择一个作为主键
                - 每个关系只能有一个主键。
                - 主键可以由一个属性组成，也可以由多个属性共同组成。
            - 外键：如果关系模式R中属性K是其它模式的主键，那么k在模式R中称为外键。
        - 主属性：包含在任一候选键的的属性（非主属性就是不含）
        - 关系的完整性
            - 实体完整性：若属性A是基本关系R的主属性，则属性A不能取空值。
            - 参照完整性（外键和对应关系的主键必须对应（或空））
                - 若属性（或属性组）F是基本**关系R**的外码
                - 它与基本**关系S**的主码 Ks 相对应
                - 则对于R中每个元组在F上的值必须为
                    - 空值
                    - S中某个元组的主码值
            - 用户定义完整性
        - 关系的代数运算分类
            - 传统的集合运算：并、交、差、笛卡尔积
            - 专门的关系运算：选择、投影、连接、除
                - 选择：从关系R中选取使得**逻辑表达式F为真**的元组，这是从行的角度进行的运算。
                - 投影：从关系R中选取若干属性列组成新的关系，这是从列的角度进行的运算。（要消除重复行）
                - 连接：从两个关系的笛卡尔积中选取属性间满足一定条件的元组
                    - 等值连接：要求选取的A，B属性组的值相等
                        - 左连接：左连接where只影向右表
                        - 右连接：右连接where只影响左表。
                        - 全连接
                    - 自然连接：特殊的等值连接，要求把重复属性列去掉
                - 除 ![image.jpg](../assets/3cf1767e-0e06-4180-8722-3ec8b5963a5f-1115003.jpg)
    - SQL语言：
        - 创建
            - CREATE DATABASE <数据库名>; 
            - CREATE DATABASE Mydb;
        - 删除
            - DROP DATABASE <数据库名> [,<数据库名>] [,...]; 
            - DROP DATABASE Mydb;
        - 表结构修改 ![image.jpg](../assets/6931d3b3-3c67-461a-bbf4-00dde8d3a42a-1115003.jpg)
        - 建立/删除索引
            - CREATE [UNIQUE] [CLUSTER] INDEX  <索引名>     ON <表名> (<列名> [<次序>] [, <列名> [<次序>] ] [,…]); 
            - DROP INDEX <索引名>;
        - 数据查询 ![image.jpg](../assets/dcdb7366-98f7-4ab7-a928-1edd53ae8bd9-1115003.jpg)
        - 数据操纵 ![image.jpg](../assets/f13c864f-d9a6-4209-a421-184ee572e2c2-1115003.jpg)
        - 数据控制
            - 授予权限 ![image.jpg](../assets/5084e171-56fb-481f-bc10-705fcae21d05-1115003.jpg)
            - 撤回权限 ![image.jpg](../assets/6dd142c8-a105-4ed1-948a-31b60cb399b8-1115003.jpg)
    - 关系数据库设计理论
        - 关系模式：R(U , F) 当且仅当U上的一个**关系r满足F时**，r称为关系模式R(U , F)的一个关系
        - 函数依赖：若在一张表中，**在属性（或属性组）X的值确定的情况下，必定能确定属性Y的值**，那么就可以说Y函数依赖于X，写作 X → Y。
            - 平凡函数依赖/非平凡函数依赖（X是否包含Y）
                - 若X→Y且X不包含Y,则称X→Y为非平凡函数依赖
                - 否则若X包含Y则必有X→Y,称此X→Y为平凡函数依赖.
            - 完全函数依赖/部分函数依赖（X的每一个属性 是不是 都是必须的）
                - X’是X的真子集，存在X→Y，但对每一个X’都有X’!→Y，则称Y完全函数依赖于X。
                - 若X’是X的真子集，存在X’→Y，则称Y部分函数依赖于X。
            - 传递函数依赖
                - 设X,Y,Z是关系R中互不相同的属性集合，存在X→Y(Y !→X),Y→Z，则称Z传递函数依赖于X。
        - 范式（关系模式）
            - 一范式
                - 符合1NF的关系中的每个属性都不可再分<img src="https://api2.mubu.com/v3/document_image/f4a6e757-af92-4c4e-a30d-08a67e21e219-1115003.jpg" /> ![image.jpg](../assets/aee31591-6184-4e4d-801d-309cdf5fab04-1115003.jpg)
            - 二范式
                - 在1NF的基础上，非码属性必须完全依赖于候选码（在1NF基础上消除非主属性对主码的部分函数依赖）。
                    - 码：假如当 K 确定的情况下，该表除 K 之外的所有属性的值也就随之确定，那么 K 就是码。（可以有多个码，通常选一个码）
            - 三范式
                - 在2NF基础上，任何非主属性不依赖于其它非主属性（在2NF基础上消除传递依赖）
                - 例子：对于学生表，主码为学号，主属性为学号，非主属性为姓名、系名和系主任。因为 学号 → 系名，同时 系名 → 系主任，所以存在非主属性系主任对于码学号的传递函数依赖，所以学生表的设计，不符合3NF的要求。
- 题目集合
    - 数据库事务（ACID）
        - 原子性：事务作为一个整体被执行，包含在其中的对数据库的操作**要么全部被执行，要么都不执行。**
        - 一致性：事务应确保数据库的状态从一个一致状态转变为另一个一致状态，一致状态的含义是数据库中的**数据应满足完整性约束。**
        - 隔离性：多个事务并发执行时，**一个事务的执行不应影响其他事务的执行。**
        - 持久性：已被提交的事务对数据库的修改应该**永久保存**在数据库中
    - 锁 ![image.jpg](../assets/6e3b972e-de8e-4575-9810-0fbaa0c39a45-1115003.jpg)
        - 乐观锁一般是指用户自己实现的一种锁机制，假设数据一般情况下不会造成冲突。所以在数据进行提交更新的时候，才会正式对数据的冲突与否进行检测。
        - 悲观锁：
            - 共享锁：select等读操作
            - 排他锁：drop等更新操作排他
    - 视图
        - 定义：视图是一个**虚拟的表，**由一个预定义的查询select语句组成。
        - 特点：
            - 视图是虚拟的（类似快捷方式），一般用select，但是存在可更新的视图，会更新相应表的数据
    - 日志文件：对数据的修改/更新操作
    - 一个实体有多个属性对应一条记录中的多个字段 ![image.jpg](../assets/7b5b2f0c-4b92-46d3-94a2-bb5670310697-1115003.jpg)
    - 数据库设计流程
        - 现实世界，需求分析：流程图
        - 概念设计：E-R
        - 逻辑设计：层次/网络/。。。。（概念结构设计阶段设计好的基本E-R图转换为与选用DBMS产品所支持的数据模型相符合的逻辑结构）
        - 物理设计：设计和实施数据库的存储结构、存取方式等（涉及文件管理方式）
    - 数据基本功能（不涉及通信）：
        - 数据模式定义
        - 数据存取的物理构建
        - 数据操纵、数据完整性安全性的定义与检查
        - 数据库的并发控制与故障恢复、数据的服务
    - 数据库模式
        - 模式：数据库系统**概念模式（和概念设计区分）：**反应数据库的结构及其联系，是数据库全部的逻辑结构和特征的描述（独立于**硬件设备和 DBMS**）
        - 外模式：子模式或用户模式==》数据视图描述
        - 内模式：物理模式==》数据物理结构和存储方式描述
    - 码/候选码/主码 ![image.jpg](../assets/f1e74ff0-cf0a-45b7-bf3f-fe85b42f15eb-1115003.jpg)
        - 码：唯一标识实体的属性或属性组合称为码
        - 候选码(关键字)：唯一标识元组，其子集不能（和码区别）
        - 主属性:候选码包含的属性
        - 主码(主键、主关键字):若一个关系有多个候选码，选择其中一个为主码
    - 在数据库中存储的是数据及数据之间的联系
    - DBS：DB+硬件+软件（OS/DBMS。。）+人员
    - 索引
        - 索引是对数据库表中一列或多列的值进行排序的一种结构，使用索引可快速访问数据库表中的特定信息。
